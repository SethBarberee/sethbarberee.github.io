name: Build Post

on: 
    push:
        braches: [ pre-deploy ]
    
jobs:
    workflow:
        name: Build the Blog Pages
        runs-on: ubuntu-latest

        steps:    
          - name: Checkout Repo
            uses: actions/checkout@v2

          - name: Setup Ruby
            uses: ruby/setup-ruby@v1
            with:
                ruby-version: 2.7
                bundler-cache: true

          - name: ðŸ”¨ install dependencies & build site
            uses: limjh16/jekyll-action-ts@v2
            with:
              enable_cache: true

          - name: ðŸš€ deploy
            uses: peaceiris/actions-gh-pages@v3
            with:
              github_token: ${{ secrets.GITHUB_TOKEN }}
              publish_dir: ./_site
